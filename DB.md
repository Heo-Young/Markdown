# Data Modeling, Database Design Fundamentals

## 목표
- 데이터베이스 구성 기본 개념에 대해 이해

## RDBMS
- 데이터베이스 시스템(DBS: DataBase System)
    - 데이터베이스에 데이터를 저장하고, 이를 관리하여 조직에 필요한 정보를 생성 해주는 시스템
    - 구성요소
        - 사용자
        - 데이터언어
        - 데이터베이스 관리 시스템
        - 데이터 베이스
        ![9](/img/9.PNG)
- 스키마와 인스턴스
    - 스키마
        - DB에 저장되는 데이터 구조와 제약조건을 정의한 것
        - 고객 - 고객번호 정수, 이름 문자열(10), 나이 정수, 주소 문자열(20)
    - 인스턴스
        - 스키마에 따라 DB에 실제로 저장된 값
        - 고객1 - 123, kim, 25, 전남 무안군 청계면

- 데이터 언어
    - 데이터 정의어 : 스키마 정의, 수정, 삭제
        - DDL(Data Definition Language) : CREATE, ALTER, DROP
    - 데이터 조작어 : 데이터의 삽입, 삭제, 수정, 검색 요구
        - DML(Data Manipulation Language) : 
            - 절차적 데이터 조작어
            - 비절차적 데이터 조작어
                - 선언적 언어
    - 데이터 제어어 : 내부적으로 필요한 규칙, 기법 정의
        - DCL(Data Control Language) : GRANT, 
- 데이터 베이스 관리 시스템
    - 질의 처리기
        - 사용자의 데이터 처리 요구를 해석하여 처리
        - 종류
            - DDL 컴파일러 : DDL로 작성된 스키마의 정의를 해석
            - DML 프리 컴파일러 : 응용 프로그램에 삽입된 DML를 추출하여 DML 컴파일러에 전달
            - DML 컴파일러 : DML로 작성된 데이터의 처리 요구를 분석하여 런타임 데이터베이스 처리기가 이해할 수 있도록 해석
            - 런타임 데이터베이스 처리기 : 저장 데이터 관리자를 통해 데이터 베이스에 접근, DML 컴파일러로 부터 받은 데이터 처리요구를 데이터베이스에서 실제로 실행
            - 트랜잭션 관리자 : 데이터베이스에 접근하는 과정에서 사용자의 접근 권한의 유효성 검사, 제약조건 위반 여부를 확인, 회복, 병행과 관련한 작업 수행
    - 저장 데이터 관리자
        - 디스크에 저장된 사용자 데이터베이스와 데이터 사전을 관리하고, 데이터베이스에 실제로 접근하는 역할 담당
    - 데이터베이스 관리 시스템의 구성
    ![10](/img/10.PNG)

- 데이터 모델링
    - D = <S,O,C>
        - D(Data):데이터 모델 = <S(Structure): 구조, O(Operation): 연산, C(Constraint): 제약조건>
    - 개념적 -> 논리적 -> 물리적

    - 개념적 모델링
        - E-R 다이어그램 : 개념적 모델링을 그림으로 표현한것
        - 개체(entity) : 저장할 가치가 있는 중요 데이터를 가지고 있는 사람,사물, 개념, 사건 등 각 개체만의 고유한 특성이나 상태, 즉 속성을 하나 이상 가지고 있다(E-R 다이어그램에서 사각형으로 표현하고 사각형 안에 이름 표기)
            - 개체 타입 : 개체를 고유의 이름과 속성들로 정의한 것
            - 개체 인스턴스 : 개체를 구성하공 있는 속성의 실제 값
            - 개체 집합 : 특정 개체 타입에 대한 개체 인스턴스들을 모아둔 것
        - 속성(attribute) : 개체나 관계가 가지고 있는 고유의 특성, 의미 있는 데이터의 가장 작은 논리적 단위(E-R 다이어그램에서 타원으로 표현하고 타원 안에 이름 표기)
            - 속성의 분류
                - 속성값의 개수에 따라
                    - 단일 값 속성 : 값을 하나만 가질 수 있는 속성
                    - 다중 값 속성 : 값을 여러 개 가질 수 있는 속성(E-R 다이러그램에서 이중 타원으로 표형)
                - 의미의 분해 가능성에 따라
                    - 단순 속성 : 의미를 더를 분해할 수 없는 속성
                    - 복합 속성 : 의미를 분해할 수 있는 속성
                - 다른 속성에 의해 값이 유도되어 결정되는 경우
                    - 유도 속성 : 기존의 다른 속성의 값에서 유도되어 결정되는 속성 값이 별도로 저장되지 않음(E-R 다이어그램에서 점선 타원으로 표현)
                - 널 속성 : 널 값이 허용되는 속성
                - 키 속성 : 각 개체 인스턴스를 식별하는 데 사용되는 속성 모든 개체 인스턴스의 키 속성 값이 다름 둘 이상의 속성들로 구성되기도 함(E-R 다이어그램에서 밑줄로 표현)
        - 관계(relationship) : 개체와 개체가 맺고 있는 의미 있는 연관성 개체 집합들 사이의 대응관계, 즉 매핑(mapping)을 의미(E-R 다이어그램에서 마름모로 표현)
            - 관계의 유형
                - 관계에 참여하는 개체 타입의 수 기준
                    - 이항 관계 : 개체 타입 두 개가 맺는 관계
                    - 삼항 관계 : 개체 타입 세 개가 맺는 관계
                    - 순환 관계 : 개체 타입 하나가 자기 자신과 맺는 관계
                - 매핑 카디널리티 기준(개체-관계 다이어그램에서 레이블로 표기)
                    - 일대일(1:1)관계
                    - 일대다(1:n)관계
                    - 다대다(n:m)관계
                - 매핑 카디널리티 : 관계를 맺는 두 개체 집합에서, 각 개체 인스턴스가 연관성을 맺고 있는 상대 개체 집합의 인스턴스 개수
            - 관계의 참여 특성
                - 필수적 참여(전체 참여)
                    - 모든 개체 인스턴스가 관계에 반다시 참여해야 하는 것을 의미
                    - E-R 다이어그램에서 이중선으로 표현
                - 선택적 참여(부분 참여)
                    - 개체 인스턴스 중 일부만 관계에 참여해도 되는 것을 의미
    - 논리적 모델링
        - 관계 데이터 모델 : 개념적 구조를 논리적 구조로 표현하는 논리적 데이터 모델, 하나의 개체에 대한 데이터를 하나의 릴레이션에 저장
            - 릴레이션(relation) : 하나의 개체에 관한 데이터를 구조로 저장한 것, 파일 관리 시스템 관점에서 파일(file)
                - 릴레이션 스키마 : 릴레이션의 논리적 구조, 릴레이션의 이름과 릴레이션에 포함된 모든 속성의 이름으로 정의( 예: 고객(고객아이디, 고객이름, 나이, 등급, 직업, 적립금) )
                - 릴레이션 인스턴스 : 어느 한 시점에 릴레이션에 존재하는 투플들의 집합
            - 투플(tuple) : 릴레이션의 행, 파일 관리 시스템 관점에서 레코드(record)
            - 속성(attribute) : 릴레이션의 열, 파일 관리 시스템 관점에서 필드(field)
                - 릴레이션 예
                ![11](/img/11.PNG)
            - 차수(degree) : 하나의 릴레이션에서 속성의 전체 개수, 최소 차수는 1
            - 카디널리티(cardicality) : 하나의 릴레이션에서 투플의 전체 개수, 유효한 카디널리티는 0부터 시작
            - 널(null): 속성 값을 아직 모르거나 해당되는 값이 없음을 표현
            - 도메인(domain) : 하나의 속성이 가질 수 있는 모든 값의 집합, 데이터 타입
        - 데이터베이스의 구성
            - 데이터베이스 스키마 : DB의 전체 구조, DB를 구성하는 릴레이션 스키마의 모음
            - 데이터베이스 인스턴스 : DB를 구성하는 릴레이션 인스턴스의 모음
            ![12](/img/12.PNG)
        - 릴레이션 키
            - 릴레이션에서 투플들을 유일하게 구별하는 속성 또는 속성들의 집합
            - 특성
                - 유일성 : 한 릴레이션에서 모든 투플은 서로 다른 키 값을 가져야 함
                - 최소성 : 꼭 필요한 최소한의 속성들로만 키를 구성
            - 종류
                - 슈퍼키(super key) : 유일성을 만족하는 속성 또는 속성들의 집합
                - 후보키(candidate key) : 유일성과 최고성을 만족하는 속성 또는 속성들의 집합
                - 기본키(primary key) : 후보키 중에서 기본적으로 사용하기 위해 선택한 키
                - 대체키(alternate key) : 기본키로 선택되지 못한 후보키
                - 키들의 포함 관계
                ![13](/img/13.PNG)
                - 외래키(foreign key) : 다른 릴레이션의 기본키를 참조하는 속성 또는 속성들의 집합, 릴레리션들 간의 관계를 표현한다.
                    - 참조하는 릴레이션 : 외래키를 가진 릴레이션
                    - 참조되는 릴레이션 : 외래키가 참조하는 기본키를 가진 릴레이션
        - 관계 데이터 모델의 제약
            - 무결성 제약조건(Integrity Constraint)
                - 일관된 데이터베이스 상태를 정의하는 규칙들을 묵시적으로 또는 명시적으로 정의함
                - 데이터를 결함이 없는 상태, 즉 정확하고 유효하게 유지하는 것
                - 종류
                    - 개체 무결성 제약조건(Entity Integrity Constraint) : 기본키를 구성하는 모든 속성은 널 값을 가질 수 없음
                    - 참조 무결성 제약조건(Referential Intergrity Constraint) : 외래키는 참조할 수 없는 값을 가질 수 없음
- 관계 데이터 연산
    - 관계 데이터 모델의 연산
    - 원하는 데이터를 얻기 위해 릴레이션에 필요한 처리 요구를 수행하는 것
    - 관계 대수와 관계 해석이 있음, 이 둘은 데이터 언어의 유용성을 검증하는 기준
        - 관계 대수 : 원하는 결과를 얻기 위해 데이터 처리 과정을 순서대로 기술하는 절차적 언어
        - 관계 해석 : 원하는 결과를 얻기 위해 처리를 원하는 데이터가 무엇인지만 기술하는 비절차적 언어(SQL)
- SQL
    - 

## NoSQL